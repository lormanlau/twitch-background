(this["webpackJsonptwitch-background"]=this["webpackJsonptwitch-background"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(3),a=n.n(o),i=(n(9),n(4)),r=n.p+"static/media/logo.6ce24c58.svg",l=(n(10),n(0));var h=function(){var e,t=Object(c.useState)(!1),n=Object(i.a)(t,2),s=n[0],o=n[1],a=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},h=function(){e.send(JSON.stringify({type:"PING"}))},u=function t(){var n;(e=new WebSocket("wss://pubsub-edge.twitch.tv")).onopen=function(e){console.log("INFO: Socket Opened"),h(),n=setInterval(h,6e4)},e.onerror=function(e){console.error("ERR:",e)},e.onmessage=function(e){var n=JSON.parse(e.data);console.log("RECV:",n),"RECONNECT"===n.type&&(console.log("INFO: Reconnecting..."),setTimeout(t,3e3))},e.onclose=function(){console.log("INFO: Socket Closed"),clearInterval(n),console.log("INFO: Reconnecting..."),setTimeout(t,3e3)}};return Object(c.useEffect)((function(){document.location.hash.match(/access_token=(\w+)/)&&function(e){var t=function(t){var n=e.match(t);return n?n[1]:null},n=t(/state=(\w+)/);sessionStorage.twitchOAuthState===n&&(sessionStorage.twitchOAuthToken=t(/access_token=(\w+)/))}(document.location.hash),sessionStorage.twitchOAuthToken&&(u(),h(),o(!0))}),[]),Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"inner-header flex",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{style:{display:s?"none":"block"},className:"auth text-center",children:[Object(l.jsx)("p",{children:"First, connect with your Twitch Account:"}),Object(l.jsx)("a",{id:"auth-link",href:!sessionStorage.twitchOAuthState&&(sessionStorage.twitchOAuthState=a(15),"https://api.twitch.tv/kraken/oauth2/authorize?response_type=token&client_id=jzrppcr9rjx38gwy84w3v6s56t0v2t&redirect_uri=https://lormanlau.github.io/twitch-background/&state="+sessionStorage.twitchOAuthState+"&scope=channel:read:redemptions"),children:Object(l.jsx)("img",{src:r,alt:"logo"})})]})})})}),Object(l.jsx)("div",{children:Object(l.jsxs)("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[Object(l.jsx)("defs",{children:Object(l.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),Object(l.jsxs)("g",{className:"parallax",children:[Object(l.jsx)("use",{href:"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),Object(l.jsx)("use",{href:"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),Object(l.jsx)("use",{href:"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),Object(l.jsx)("use",{href:"#gentle-wave",x:"48",y:"7",fill:"#fff"})]})]})})]})},u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),o(e),a(e)}))};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),u()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.f6bd2a7e.chunk.js.map